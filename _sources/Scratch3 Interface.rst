Среда за програмиране на Скрач 
================================

.. include:: blocks.txt

.. include:: icons.txt

.. infonote::

  |intro1|

   
Искате ли да създадете своя собствена компютърна игра, анимирана история, инструкция или презентация? Скрач е език за програмиране, който ви позволява да създавате всички тези неща и не само!

За разлика от по-голямата част от често срещаните езици за програмиране, Скрач е визуален език за програмиране - вместо да пишете команди чрез клавиатурата, програмите се създават чрез свързване на цветно кодирани блокове, които представляват различни команди, нещо като създаване на различни обекти чрез използване на LEGO тухли.

В Скрач се създават проекти. Първата стъпка в създаването на проект е добавянето на спрайтове, които ще участват в него. Различни външност, звуци и поведение могат да бъдат прикрепени към всички спрайтове. Поведението на спрайт е описано от сценария. Проектът съдържа един или повече сценария; всеки е свързан със спрайт или сцена - мястото, където се осъществява проектът.

За да напишете програма в Скрач, първо е необходимо да се запознаете със средата, в която се създават програмите или интерфейса му.

.. topic:: Интерфейс за програмиране на Скрач.
 Следващата фигура показва интерфейса на езика за програмиране Скрач.

 .. image:: ../_images/1/fig1_1.png
   :width: 800px   
   :align: center

Първо ще се запознаем с  главните функции на съставните му части, а в следващите уроци ще се запознаем с други компоненти на средата.

**Stage / Сцена** е мястото, където вашите истории, игри и анимации ще оживеят. Самата сцена е неподвижна, но върху нея има спрайтове, които могат да се движат и взаимодействат помежду си.

**Блоковата палитра** е пространството, в което се съхраняват всички налични команди на езика за програмиране Скрач. Нарича се "палитра", защото изглежда като палитра, която художник използва, докато рисува. Въпреки това, за разлика от художника, програмиста създава живи снимки с обекти, които си взаимодействат помежду си.

**Зоната на сценариите (scripts)** е място, където се създават сценариите. За да направите сценарий, трябва да плъзнете блокове от палитрата към зоната на сценариите и да ги свържете заедно.

**Списъкът на спрайтовете** показва имена и миниатюри на всички спрайтове във вашия проект.

**Лентата с менюта** ви позволява да задавате команди за управление на проекти и да коригирате самата среда.

.. topic:: Моята първа програма
 Дори и най-дългите пътувания започват с една стъпка. Първата стъпка в изучаването на език за програмиране би била да напишете програма, която да изпише на екрана думите „Здравей свят“. Така ще започнем да усвояваме Скрач.

 Всеки път, когато Скрач е активиран, **сцената** се създава автоматично и се състои от бял правоъгълник с котка спрайт в него.

 Сцената и спрайтовете са **обекти**, чието поведение е програмирано от команди Скрач. Ние изграждаме сценариите, които описват поведението на обектите, като използваме блокове, които съответстват на езиковите команди. Всеки обект има свое собствено поведение, дори неподвижната сцена, която например може да промени фона му.

 Сцената и спрайтовете могат да бъдат свързани с графики (картини - рисунки, снимки) и **звукови** файлове в допълнение към сценариите. Външният вид на спрайта се нарича **костюм**, а видът на сцената - **фон**.

**Списъкът Спрайт** показва миниатюри на всички спрайтове, участващи в проекта. Името на всеки спрайт е написано под миниатюрата.

Можете да преглеждате и променяте текущата спрайт информация в прозореца над Списъка на спрайтове.

 .. image:: ../_images/1/fig1_2.png
   :width: 650px   
   :align: center
 
 .. infonote::

  1.	Името (The Name) на спрайт може да бъде променено чрез въвеждане на ново име в полето за име на спрайт.

  2.	Позицията (The Position) на спрайта на сцената се определя от координатите му x и y.

  3.	Дали спрайтът е видим или скрит на сцената, зависи от това какво е поставено в квадратчето Покажи.

  4.	Размерът (The Size) на спрайт се изразява като процент от първоначалния размер. Числото 100 показва, че Спрайт е нормалния си размер.

  5.	Посоката (The Direction) указва посоката, в която ще се движи Спрайт. Бялата стрелка в синия кръг показва посоката на спрайта. Можете да промените посоката, като завъртите стрелката или напишете съответното число в полето за посока (0: нагоре, 90: дясно, 180: надолу, -90: наляво). rot_style указва стила на въртене, който може да бъде: наоколо, вляво-надясно или не върти.

 За да създадете сценарий, трябва да плъзнете съответните команди от палитрата на команди към зоната на сценариите на активния обект и да ги свържете.

 **Активен обект** - спрайт или сцена, се разпознава по факта, че има синя рамка около неговата миниатюра в списъка Спрайт. Всичко, което създаваме: сценарии, които описват поведението, костюми, които описват външния вид, звуци, които ще бъдат чути, когато стартираме нашия проект, е свързано с обекта, който е активен в момента на създаването.

 Сценариите се създават чрез кликване на блокове заедно. Кликването някъде в серия от блокове изпълнява пълния сценарий, който се изпълнява отгоре надолу.

|study| Изучете следните примери
-------------------------------------

Пример 1 - Проектът „Здравей свят“ 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Най-простият възможен сценарий ще бъде добавен към котката, запазена марка на Скрач. Състои се от една единствена команда - блок, който позволява на спрайт да казва Здравей свят, тоест текстът ще се появи в речев балон до котката. Ето как става това:

|1| Кликнете върху групата на Външност в блоковете. Ще се появи група от лилави блокове, предназначени за приписване на визуални ефекти на спрайтове.

|2| Завлечете |say_sec| към зоната на сценариите.

|3| След това вместо текста *Здравей*, въведете *Здравей свят* и кликнете върху модифицирания блок.

.. image:: ../_images/1/fig1_3.png
   :width: 740px   
   :align: center

Балонът с текста *Здравей свят* ще остане на сцената до котката за 2 секунди. Както виждате, това е доста лесно. 

Сега ще добавим още няколко |say_sec|, за да накараме спрайтът да каже още няколко изречения.

Ще покажем тук два различни начина да добавите блок, който вече съществува в зоната на сценариите.

- 1. Като повтаряме стъпките, които вече сме направили: още веднъж плъзнете друг |say_sec| от палитрата на блоковете и вместо текста *Здравей, аз съм котка*.

- 2. Кликнете с десния бутон върху блока в зоната на сценариите, за да отворите менюто за бърз достъп и изберете *Duplicate* от него. След това напишете желания текст в копието на блока, в нашия пример – *Искам да говорим*. По този начин можете да работите по-бързо, тъй като можете да копирате няколко блока, които са били свързани преди това, само с един ход.

.. image:: ../_images/1/fig1_4.png
   :width: 740px   
   :align: center
 
За да накарате блоковете да се изпълняват автоматично един след друг, трябва да ги поставите заедно в стек. Правим това чрез плъзгане на блокове. Когато блоковете се доближат един до друг, около блока по-горе се появява сянка, което означава, че блоковете ще бъдат свързани. Когато свържем и трите блока в стек и след това кликнем два пъти върху тях, спрайт ще каже и трите изречения едно след друго.

**Управление на проекта**

Забелязахте, че блокът, който сте използвали, има прорез в горната част и вдлъбнатина. Блок, който има тази форма, се нарича **стек блок**. По-голямата част от командите Скрач са дадени на стековите блокове. Първият блок обаче, който показва кое събитие ще задейства сценария, не е необходимо да има прорез в горната част, тъй като няма блокове над него. Тези блокове се наричат **блокове шапки** и повечето от тях могат да бъдат намерени в групата *Събития (Events)*. Кликнете върху групата Събития в палитрата с блокове и плъзнете блока |clicked_flag| към зоната на сценариите. След това поставете този блок върху предварително оформения стек и вашият проект е готов. За да го стартирате, кликнете върху |g_flag| над горния ляв ъгъл на сцената.   

**Запазване на проекта**

Ето как можете да запазите проекта на вашия компютър:

|1|	Кликнете върху *File* в лентата с менюта.

|2|	Изберете опцията *Save to your computer*.

|3|	В отворения диалогов прозорец изберете папка и въведете името, под което ще запазите проекта си, след което кликнете върху бутона *Save*.

**Надграждане на проекта**

Вместо да показва балон с текста в него, котката всъщност може да каже това, което е написано. Можете да го направите, като изберете блока |play_until| от групата *Звуци (Sound)*, и след това запишете в звуковия редактор изречението, което искате да каже котката. След като направите това, изберете записаният текст вместо мяу от списъка на този блок. 

В тази версия на Скрач обаче можете да направите повече от това. Сред разширенията има група *Text-to-Speech*, която позволява на спрайтите да започнат да говорят наистина. Можете да направите това само ако сте свързани с интернет, защото той използва *Amazon Web Services*.


|ask| Разбра ли?
----------------

Объркани ли сте как можете да отговорите на въпросите, които все още не са обяснени ? Просто отворете Скрач и опитайте!

Question 1
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface1
   :answer_a: сценарий
   :answer_b: обект
   :answer_c: интефейс
   :answer_d: код
   :correct: c
   :feedback_a:  
   :feedback_b: 
   :feedback_c: Вярно.
   :feedback_d: 
   
   Какво е името на всички прозорци и икони, които се виждат, когато отворите Скрач?
  

Question 2
~~~~~~~~~~
.. level:: 1

Някои части на интерфейса Скрач са маркирани с числа от 1 до 5. 

.. image:: ../_images/1/q1_2.png
   :width: 600px   
   :align: center
      
.. dragndrop:: interface2
    :feedback: Try again
    :match_1: stage|||4
    :match_2: blocks palette|||2
    :match_3: scripts area|||3
    :match_4: sprite list|||5
    :match_5: menu bar|||1
    
    Плъзнете името на всяка част от средата до съответната позиция на изображението.


Question 3
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface3
   :answer_a: да
   :answer_b: не
   :correct: b
   :feedback_a: Грешно. Проектът трябва да има етап с поне един фон.
   :feedback_b: Вярно.
   
   Можете ли да направите проект, който няма сцена?

Question 4
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface4
   :answer_a: да
   :answer_b: не
   :correct: a
   :feedback_a: Вярно.
   :feedback_b: Грешно. Проектът може да има само скриптове, които са свързани със сцената.
   
   Можете ли да направите проект, който няма спрайтове?

Question 5
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface5
   :answer_a: да
   :answer_b: не
   :correct: b
   :feedback_a: Грешно.
   :feedback_b: Вярно.
   
    Можете ли да създадете сцена или спрайт, без да им зададете външност?

Question 6
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface6
   :answer_a: да
   :answer_b: не
   :correct: b
   :feedback_a: Грешно.
   :feedback_b: Вярно.
   
   Трябва ли всеки обект в проекта да има поне един сценарий, свързан с него?

Question 7
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface7
   :answer_a: да
   :answer_b: не
   :correct: a
   :feedback_a: Вярно. 
   :feedback_b: Грешно.
   
   Позволяват ли Зеленият флаг и Червеният знак за стоп да контролирате изпълнението на сценариите?

Question 8
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface8
   :answer_a: лента с менюта
   :answer_b: спрайт списък
   :answer_c: зона на сценариите
   :answer_d: блокова палитра
   :correct: b
   :feedback_a:  
   :feedback_b: True.
   :feedback_c: 
   :feedback_d: 
   
   Как се казва мястото, където можем да намерим миниатюри на всички спрайтове, участващи в проекта? 

Question 9
~~~~~~~~~~

.. level:: 1

.. mchoice:: interface9
   :answer_a: външност
   :answer_b: облекло
   :answer_c: костюми
   :answer_d: маски
   :correct: c
   :feedback_a:  
   :feedback_b: 
   :feedback_c: Вярно.
   :feedback_d: 
   
   Спрайтът може да има един или повече _______, това му позволява да промени външния си вид по време на изпълнение на проекта.

Question 10
~~~~~~~~~~~

.. level:: 1

.. mchoice:: interface10
   :multiple_answers:
   :answer_a: презентации
   :answer_b: скриптове
   :answer_c: графични файлове
   :answer_d: звукови файлове
   :correct: b,c,d
   :feedback_a:  
   :feedback_b: 
   :feedback_c: 
   :feedback_d: 

   Какво може да се зададе на сцената и спрайтовете? 
   (Изберете всички верни отговори)  



Време е да изследвате сами.

|Try| Опитайте!
----------------

Упражнение 1 - *Проучване на ръководствата*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. level:: 1

.. infonote::

 С кликване върху Tutorials в Menu Bar (1) ще отворите библиотека с кратки инструкции за създаване на различни проекти в Скрач. Изберете ръководството First Steps (2) и гледайте свързаното видео (3), след това като кликнете върху бели стрелки в зелени кръгове (4), можете да прегледате стъпките за създаване на прости проекти, подобни на нашия „Здравей свят“. 

 .. image:: ../_images/1/ex1_1.png
   :width: 1000px   
   :align: center

.......

Упражнение 2 - Спрайт информация
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. level:: 1

.. infonote::

 |1| В информацията на активния спрайт променете посоката на движение на спрайта, така че да се издига нагоре. Какво ще се случи на сцената?

 |2| Как ще бъде насочен спрайтът, ако зададете стойност от 45 градуса като посока на движение?

 |3| С курсора на мишката преместете спрайта и следвайте какво се случва с координатите в информацията на активния спрайт.

 |4| Проверете какво се случва със спрайта, ако опцията за скриване е избрана в полето *Show*. Как можете да върнете спрайта на сцената?

 |5| Променете името на активния спрайт.

.......

.. sidebar:: Изберете си спрайт
    
    Можете да добавите нов спрайт, като кликнете върху бутона, разположен в долния десен ъгъл на спрайт листа.

    |new_sprite|

.. |new_sprite| image:: ../_images/1/fig1_5.png

Упражнение 3 - Въвеждане на нови спрайтове
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      
.. level:: 1

.. infonote::
  
 |1| Импортирайте нов спрайт от Library Sprite. 
 
 Като кликнете върху бутона Изберете спрайт (Choose a Sprite), ще отворите библиотеката. Сега трябва да кликнете върху спрайта, който харесвате - например спрайтът на балерина.

 |2| 2.	Начертайте нов спрайт, като използвате вградения редактор на изображения. 

 Като кликнете върху опцията Paint, вместо раздела *Code* ще отворите раздела *Costumes*. Paint Editor (Редакторът на боя), който можете да използвате, за да нарисувате новия си спрайт, ще се отвори там, където преди това е била зоната на сценариите. Когато приключите, просто кликнете върху раздела *Code*.

 |3| Импортирайте няколко спрайта за изненада от *библиотеката*.

 |4| Импортирайте нов спрайт от файл, като кликнете върху опцията *Upload Sprite*.

.......

Упражнение 4 - Дублиране и изтриване на спрайтове
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. level:: 1

.. infonote::

 |1| Кликнете с десния бутон на мишката върху спрайта в листа, изберете опцията дубликат от менюто за бърз достъп и направете 3 копия на спрайта.

 |2| Извадете едно от копията, като изберете *изтриване/delete* от менюто за бърз достъп.

 |3| 3.	Въведете цифри 50 и 200 в полетата за размер size boxes, така че едно копие да е половин от размера, а другото копие да е двойно по-голямо от оригинала.


.......

Упражнение 5 - Използване на звук 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Внимание** Можете да изпълните това упражнение само ако компютърът ви има опция за аудио запис!

Разгледайте *Ръководството за звук* и се опитайте да създадете проект, в който спрайтът да изрече д вашия глас фразата "Здравей свят". Тъй като това упражнение използва Sound Editor (Звуков редактор), който ще представим по-късно, можете да пропуснете това и да се върнете към него по-късно.

.. level:: 2

.. infonote::

 |1| Отваряне на Скрач.

 |2| Кликнете е върху групата Звуци (Sound group) от команди, разположени в палитрата с блокове. Ще се появи група от светло лилави блокове за звуковите ефекти, които могат да бъдат дадени на спрайтовете.
  
 |3| Плъзнете блока |play_until| към зоната за сценариите.

 |4| Кликнете върху раздела Звук (Sound). Прозорецът на звуковия редактор ще се отвори.

 |5| Кликнете върху Избор на звук (Choose a Sound), след което изберете опцията за запис.

 |6| Когато се появи диалоговият прозорец Запис (Record), кликнете върху бутона за запис, след това кажете фразата "Здравей свят" и след това спрете записа.

 |7| Слушайте записа и ако ви харесва, кликнете върху Запиши (Save). Друг звук, наречен запис1, ще се появи в списъка на звуците, свързани с котешкия спрайт.

 |8| Върнете се в раздела Код (Code) и вместо звуковата мяу изберете запис1. Ако кликнете върху зеления флаг, котката ще каже изречението, което сте записали.

 |9| Добавете още два блока |play_until| и след това добавете към тях записите от още две изречения, които искате да каже котката.

 |10| Кликнете блоковете заедно, за да оформите стек и поставете |clicked_flag| блок в горната част. Запазете този проект под името „Здравей свят2“.

.......

Упражнение 6 - Използване на разширението *Text-to-Speech* 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Предупреждение**  Можете да изпълните това упражнение само ако компютърът ви е свързан с интернет!

Разгледайте ръководството за създаване на анимации, които говорят, след което се опитайте да създадете проект, в който вашият спрайт ще каже „Здравей свят“ с блока |speak|. Това упражнение използва команди, които ще бъдат разработени по-късно, така че можете да го пропуснете и да се върнете към него по-късно.

.. level:: 3

.. infonote::

 |1| Отваряне на Скрач.

 |2| Кликнете на иконата |extensions|, която се намира на дъното на Block Palette. Блоковете *Extension* ще се появят.
  
 |3| От блоковете *Extensions* трябва да изберете |voices_extension|. Три нови блока ще се появят в блоковата палитра. Тези блокове ще позволят спрайтът да казва текста, написан в |speak|, да говори на езика, зададен в блока |set_language|. Можете също така да зададете типа глас, който ще се използва: женски (сопрано или алт) или мъжки (тенор или бас). Това става с блока |set_voice|. 
  
 |4| Плъзнете блока |set_language| в зоната за сценарии.

 |5| Плъзнете блока |set_voice| към зоната на сценариите и изберете гласа на спрайт.

 |6| Плъзнете блока |speak| в зоната на сценариите и въведете "Здравей свят" в полето за въвеждане. 

 |7| Добавете още два |speak| блока, след което въведете другите две изречения, изречени от котката.

 |8| Кликнете блоковете заедно, за да образувате стек и поставете |clicked_flag| в горната част.

 |9| Запазете този проект под името „Hello World3“.

|bug| Отстранете грешките!
-----------------------------

Грешка 1
~~~~~~~~~~

Ученикът искаше да направи своя собствена версия на проекта *"Здравей свят"*. В него спрайтът трябва да казва едно изречение след друго: *Здравей свят, Казвам се Майк*, харесвам програмиране. Той прикрепи спрайта към следния сценарий:

.. image:: ../_images/1/bug1_1.png
     :width: 160px   
     :align: center

Но след като щракна върху зеления флаг, спрайт каза само, че *Харесвам програмирането*. Каква е грешката?

|book| Обобщение
-----------------

В първия урок се запознахме с основните части на интерфейса на езика за програмиране на Скрач и създадохме, пуснахме и запазихме първата си програма - проект “Hello World”. Правейки упражнения, показахме как можем да накараме спрайтове да казват изречения, които сме записали сами, като използваме Sound Editor или тези, качени от разширението Text to Speech (само ако компютърът е свързан към интернет).

**Scratch projects**: 1Studio_

.. _1Studio: https://scratch.mit.edu/studios/25119438/

**Нови понятия:** интерфейс, проект Скрач, активен обект, спрайтове, костюми, сцена, фон, сценарии, блокове.

**Команди**: |events_blocks| - |clicked_flag|; |looks_blocks| - |say_sec|,  |say|; |sound_blocks| - |*| 
|play_until|; |voices_extension| -  |*| |set_language|,  |*| |set_voice|,  |*| |speak|.

Забележка. Инструкциите, отбелязани със знака |*|, ще бъдат обсъдени в следващите уроци.

|project| Create a project
---------------------------

Проект 1 - „За мен“
~~~~~~~~~~~~~~~~~~~~~~~

Създайте проект, който ще ни каже нещо за вас. Изберете момче или момиче спрайт от библиотеката и прикачете сценарий, който ще накара спрайтът да изрече следните три изречения: „Моето име е…“, „Аз съм на… години“ и „Моето училище се казва…“. Въведете вашата информация вместо точките.

